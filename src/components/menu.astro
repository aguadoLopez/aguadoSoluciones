---
const logo = "/img/logo.png";
---
<div class="flex items-center justify-between mx-[4%] md:mt-12 lg:mt-4 mb-8">
    <nav id="menu" class="flex md:w-10/12 lg:w-[88%] lg:h-16 md:h-20 shadow-md shadow-slate-400 shadow-current rounded-sm items-center justify-between p-4 bg-white shadow-md">
        <!-- Izquierda: BotÃ³n de inicio o logo -->
        <button id="inicioLogo" class="px-2 py-0.5 rounded-sm font-archivoBlack bg-verde text-xl font-black text-blanco">
            <a href="/">INICIO</a>
        </button>

        <!-- BotÃ³n hamburguesa en mÃ³vil -->
        <button id="hamburguesa" class="hidden text-verde text-3xl focus:outline-none">
        â˜°
        </button>

        <!-- Derecha: MenÃº principal -->
        <ul id="paginas" class="flex mr-10 space-x-10 text-verde font-archivoBlack font-black text-lg">
            <li><a href="/servicios">Servicios</a></li>
            <li><a href="/productos">Productos</a></li>
            <li><a href="/contacto">Contacto</a></li>
        </ul>
    </nav>
    <img id="logo" src={logo} alt="Logo" class="hidden md:block md:w-24 lg:w-28">
</div>
<!-- MenÃº desplegable mÃ³vil -->
<div id="menuMovil" class="hidden absolute top-28 left-1/2 transform -translate-x-1/2 bg-white shadow-lg rounded-md p-4 z-50 space-y-4 w-10/12 text-verde font-black">
    <a href="/servicios" class="block">Servicios</a>
    <a href="/productos" class="block">Productos</a>
    <a href="/contacto" class="block">Contacto</a>
</div>



<script is:inline>
    function aplicarVistaMovil() {
        const isMobile = window.innerWidth <= 639;
        const menu = document.getElementById('menu');
        const left = document.getElementById('inicioLogo');
        const hamburguesa = document.getElementById('hamburguesa');
        const menuMovil = document.getElementById('menuMovil');
        const paginas = document.getElementById('paginas');
        const logo = document.getElementById('logo');

       if (!menu || !left || !hamburguesa || !menuMovil || !paginas || !logo) return;

        if (isMobile) {
            let abierto = false;

            menu.classList.remove('h-28');
            menu.classList.add('mx-[2%]', 'mb-8', 'mt-4', 'h-20', 'w-11/12');

            // Sustituye "Inicio" por el logo
            left.innerHTML = `<a href="/"><img src="/img/logo.png" alt="Logo" class="h-8"></a>`;
            left.classList.remove('bg-verde');

            // Mostrar hamburguesa y ocultar el menÃº normal
            hamburguesa.classList.remove('hidden');
            paginas.classList.add('hidden');
            // logo.classList.add('hidden');

            // Alternar visibilidad del menÃº mÃ³vil
            hamburguesa.addEventListener('click', () => {
                abierto = !abierto;
                hamburguesa.textContent = abierto ? 'ðŸž©' : 'â˜°';
                menuMovil.classList.toggle('hidden');
            });
        } 
        // else {
        //     // Revertir a modo escritorio
        //     menu.classList.remove('mb-8', 'mt-4', 'h-20', 'w-11/12');
        //     menu.classList.add('h-28');

        //     left.innerHTML = `<a href="/" class="text-blanco">INICIO</a>`;
        //     left.classList.add('bg-verde');

        //     hamburguesa.classList.add('hidden');
        //     paginas.classList.remove('hidden');
        //     logo.classList.remove('hidden');
        //     menuMovil.classList.add('hidden');
        // }
    }
    

    // Ejecutar inmediatamente
    window.addEventListener('load', aplicarVistaMovil);

    // Y si cambia el tamaÃ±o de la pantalla despuÃ©s
    window.addEventListener('resize', aplicarVistaMovil);

        console.log("window",window.innerWidth);

</script>


<!-- <script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const isMobile = window.matchMedia('(max-width: 639px)').matches;
        if (isMobile) {
            const menu = document.getElementById('menu');
            const left = document.getElementById('inicioLogo');
            const hamburguesa = document.getElementById('hamburguesa');
            const menuMovil = document.getElementById('menuMovil');
            const paginas = document.getElementById('paginas');
            const logo = document.getElementById('logo');
            let abierto = false;

            menu.classList.remove('ml-12');
            menu.classList.add('mx-auto', 'mb-8');

            // Sustituye "Inicio" por el logo
            left.innerHTML = '';
            console.log('logo path:', logo);
            left.innerHTML = `<a href="/"><img src="/img/logo.png" alt="Logo" class="h-8"></a>`;
            left.classList.remove('bg-verde');

            // Sustituye pÃ¡ginas por menu hamburguesa
            hamburguesa.classList.remove('hidden');
            paginas.classList.add('hidden');


            // Alternar visibilidad del menÃº al hacer clic
            hamburguesa.addEventListener('click', () => {
            abierto = !abierto;
            hamburguesa.textContent = abierto ? 'ðŸž©' : 'â˜°';
            menuMovil.classList.toggle('hidden');
            paginas.classList.add('flex-col', 'bg-white', 'p-4', 'rounded', 'mt-2', 'gap-2');
            });


            logo.classList.add('hidden');
        }
    });
</script> -->